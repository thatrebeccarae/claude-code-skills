<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Connection Timeline â€” LinkedIn Data Visualization</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
{{THEME_CSS}}
</style>
</head>
<body>
<div class="container" style="padding:40px;">
<h1 style="font-size:2.2rem;margin-bottom:8px;">Connection Timeline</h1>
<p class="section-subtitle" id="subtitle"></p>

<div style="display:flex;gap:20px;margin-bottom:20px;font-size:0.8rem;color:var(--text-muted);">
  <div style="display:flex;align-items:center;gap:6px;"><div class="direction-dot inbound"></div>Inbound (they found you)</div>
  <div style="display:flex;align-items:center;gap:6px;"><div class="direction-dot outbound"></div>Outbound (you reached out)</div>
  <div style="display:flex;align-items:center;gap:6px;"><div class="direction-dot unknown"></div>Unknown</div>
</div>

<div class="timeline-table">
  <div class="tl-header"><div></div><div>Name</div><div>Company</div><div>Connected</div><div>Msgs</div></div>
  <div id="timeline-rows"></div>
</div>
</div>

<script>
const DATA = {{DATA}};

document.getElementById('subtitle').textContent = DATA.subtitle || '';

const tr = document.getElementById('timeline-rows');
if (DATA.rows) {
  tr.innerHTML = DATA.rows.map(r => {
    const bar = r.msg_count > 0 ? `<div class="msg-bar" style="width:${Math.min(70, r.msg_count * 4)}px;${r.msg_count > 8 ? 'background:#FFD700;' : ''}"></div>` : '';
    return `<div class="tl-row"><div class="direction-dot ${r.direction}"></div><div class="tl-name">${r.name}</div><div class="tl-company">${r.company}</div><div class="tl-date">${r.date}</div><div class="tl-msgs">${bar}<div class="msg-count">${r.msg_count}</div></div></div>`;
  }).join('');
}
</script>
</body>
</html>
