<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Does Posting Actually Work? â€” LinkedIn Data Visualization</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
{{THEME_CSS}}
</style>
</head>
<body>
<div class="container" style="padding:40px;">
<h1 style="font-size:2.2rem;margin-bottom:8px;">Does Posting Actually Work?</h1>
<p class="section-subtitle" id="subtitle"></p>

<div class="card"><div class="chart-box" style="height:480px;"><canvas id="postingChart"></canvas></div></div>

<div class="highlight-row" id="highlights"></div>

<div class="prompt-box" id="prompt-container" style="display:none;">
  <div class="prompt-label">Prompt</div>
  <div class="prompt-text" id="prompt-text"></div>
  <div class="prompt-sources" id="prompt-sources"></div>
</div>
</div>

<script>
const DATA = {{DATA}};

document.getElementById('subtitle').textContent = DATA.subtitle || 'Correlation between posting frequency and new connection requests.';

new Chart(document.getElementById('postingChart').getContext('2d'), {
  type: 'bar',
  data: {
    labels: DATA.labels,
    datasets: [
      { label: 'New Connections', data: DATA.connections, backgroundColor: '#c9a84ccc', borderRadius: 4, barPercentage: 0.75, order: 2, yAxisID: 'y' },
      { label: 'Posts', data: DATA.posts, type: 'line', borderColor: '#4eadab', backgroundColor: '#4eadab22', pointBackgroundColor: '#4eadab', pointRadius: 3, pointHoverRadius: 5, borderWidth: 2, tension: 0.3, fill: true, order: 1, yAxisID: 'y1' }
    ]
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    plugins: {
      title: { display: true, text: DATA.chart_title || '', color: '#8b949e', font: { family: 'Inter', size: 13, weight: '400' }, padding: { bottom: 16 } },
      legend: { position: 'top', align: 'center', labels: { font: { family: 'Inter', size: 11 }, color: '#8b949e', boxWidth: 12, padding: 14 } }
    },
    scales: {
      x: { grid: { display: false }, ticks: { font: { family: 'Inter', size: 9 }, color: '#7d8590', maxRotation: 45 } },
      y: { position: 'left', title: { display: true, text: 'New Connections', color: '#7d8590', font: { family: 'Inter', size: 11 } }, grid: { color: 'rgba(255,255,255,0.08)' }, ticks: { font: { family: 'Inter', size: 11 }, color: '#7d8590' }, beginAtZero: true },
      y1: { position: 'right', title: { display: true, text: 'Posts', color: '#7d8590', font: { family: 'Inter', size: 11 } }, grid: { drawOnChartArea: false }, ticks: { font: { family: 'Inter', size: 11 }, color: '#7d8590', stepSize: 1 }, beginAtZero: true, max: 14 }
    }
  }
});

const hl = document.getElementById('highlights');
if (DATA.highlights) {
  hl.innerHTML = DATA.highlights.map(h => `<div class="highlight-card"><div class="highlight-value">${h.value}</div><div class="highlight-label">${h.label}</div><div class="highlight-note">${h.note}</div></div>`).join('');
}

if (DATA.prompt) {
  const pc = document.getElementById('prompt-container');
  pc.style.display = 'block';
  document.getElementById('prompt-text').textContent = DATA.prompt.text;
  document.getElementById('prompt-sources').textContent = DATA.prompt.sources;
}
</script>
</body>
</html>
